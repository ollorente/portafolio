import{u as y}from"./index-cDvxX3Os.js";import{p as A,H as g}from"./paginator-CfIboj8r.js";import{r as w,h,o as L,i as B,a as i,c as C,b as G,e as d,f as c,F as v,j as x,n as m,k as p,t as O,d as T}from"./index-CzkW1MxC.js";const $=t=>({id:t.id,url:t.url,name:t.name,image:t.image,target:t.target,description:t.description,visible:t.visible,owner:t.owner,rating:t.rating,updated:t.updated,rel:t.rel,notes:t.notes,rss:t.rss,postId:t.postId,createdAt:t.createdAt,updatedAt:t.updatedAt}),j=t=>({id:t.id,url:t.url,name:t.name,image:t.image,createdAt:t.createdAt}),_="links",E=()=>({GetAllLinks:async(o,e)=>{const s=A(e.limit,e.page);return await await g().then(async a=>await a[_].filter(r=>r.postId===o).sort(function(r,n){return r.createdAt>n.createdAt?1:r.createdAt<n.createdAt?-1:0}).splice(s.page,s.limit).map(r=>j(r)))},GetOneLink:async o=>{const e=await g().then(async s=>await s[_].find(u=>u.id===o));return $(e)}}),F={class:""},I=["src"],N={__name:"index",props:{post:{type:Object,required:!0},compact:{type:Boolean,default:!1},hideActions:{type:Boolean,default:!1}},setup(t){const{twitterBorderColor:l}=y(),{GetAllLinks:o}=E(),e=t,s=w(),u=async()=>{const r=await o(e.post.id,{limit:1,page:0});s.value=r},a=h(()=>e.compact?"text-base":"text-2xl");return L(()=>u()),(r,n)=>{const f=B("RouterLink");return i(),C(f,{to:e.post.url},{default:G(()=>[d("div",F,[(i(!0),c(v,null,x(s.value,k=>(i(),c("div",{key:k.id,class:m(["flex my-3 mr-2 border-2 rounded-2xl",p(l)])},[d("img",{src:k.url,class:"w-full rounded-2xl aspect-video object-cover"},null,8,I)],2))),128)),d("p",{class:m(["flex-shrink font-medium text-gray-800 w-auto dark:text-gray-100 pe-3",a.value])},O(e.post.excerpt),3)])]),_:1},8,["to"])}}},R={class:"transition"},q={key:0,class:"p-4"},z=["onClick"],P={__name:"ListFeed",props:{posts:{type:Array,required:!0}},setup(t){const{defaultTransition:l,twitterBorderColor:o}=y(),e=t,s=h(()=>{var a;return((a=e==null?void 0:e.posts)==null?void 0:a.length)===0});function u(a){}return(a,r)=>(i(),c("div",R,[s.value?(i(),c("div",q,[d("p",{class:m(["text-center text-gray-500",p(l)])},"No hay publicaciones ðŸ˜¢",2)])):(i(!0),c(v,{key:1},x(e.posts,n=>(i(),c("div",{key:n==null?void 0:n.id,class:m(["p-4 border-b hover:bg-gray-100 dark:hover:bg-gray-900 cursor-pointer dark:hover:bg-dim-300",[p(l),p(o)]]),onClick:f=>void 0},[T(N,{post:n,compact:""},null,8,["post"])],10,z))),128))]))}};export{P as _};
