import{_ as O}from"./Default.vue_vue_type_script_setup_true_lang-51M5R6cl.js";import{u as C}from"./index-BA_OlpSk.js";import{d as $,c as y,r as B,o as l,a as d,b as u,u as m,t as g,e as _,w as A,f as v,g as L,n as h,F as I,h as T,i as p,j,k as E}from"./index-B6TmSGYb.js";const N={class:"flex p-4"},F={class:""},H=["src"],R={class:"ml-3"},V={class:"font-medium text-gray-800 dark:text-white"},q={class:"ml-3 text-sm font-medium text-gray-400"},z={key:0,class:"text-sm"},D=u("span",{clsaa:"text-gray-500"}," Regrafitear ",-1),M=$({__name:"Header",props:{graf:{type:Object,required:!0}},setup(t){const o=t,e=o.graf.userId,c=y(()=>{var r;return`/proyecto/${(r=o.graf)==null?void 0:r.id}`});return(r,f)=>{var s,a,i,x;const n=B("RouterLink");return l(),d("div",N,[u("div",F,[u("img",{src:(s=m(e))==null?void 0:s.logo,alt:"",class:"w-10 h-10 rounded-full"},null,8,H)]),u("div",R,[u("span",V,g((a=m(e))==null?void 0:a.name),1),u("span",q,[_(n,{to:`/${(i=m(e))==null?void 0:i.username}`},{default:A(()=>{var k;return[v(g((k=m(e))==null?void 0:k.handle),1)]}),_:1},8,["to"]),v(" . "+g((x=o.graf)==null?void 0:x.posttedAtHuman),1)]),o.graf.replyTo?(l(),d("p",z,[D,_(n,{to:c.value,class:"text.blue-400"},{default:A(()=>[v(g(o.graf.replyTo.author.handle),1)]),_:1},8,["to"])])):L("",!0)])])}}}),S=["src"],b={key:0,class:"mt-2"},P=$({__name:"index",props:{graf:{type:Object,required:!0},compact:{type:Boolean,default:!1},hideActions:{type:Boolean,default:!1}},setup(t){const{twitterBorderColor:o}=C(),e=t,c=y(()=>e.compact?"ml-16":"ml-2 mt-4"),r=y(()=>e.compact?"text-base":"text-2xl");function f(){}return(n,s)=>{const a=B("GrafItemActions");return l(),d("div",null,[_(M,{graf:e.graf},null,8,["graf"]),u("div",{class:h(c.value)},[u("p",{class:h(["flex-shrink font-medium text-gray-800 w-auto dark:text-hite",r.value])},g(e.graf.text),3),(l(!0),d(I,null,T(e.graf.mediaFiles,i=>(l(),d("div",{key:i.id,class:h(["flex my-3 mr-2 border-2 rounded-2xl",m(o)])},[u("img",{src:i.url,class:"w-full rounded-2xl"},null,8,S)],2))),128)),n.$props.hideActions?L("",!0):(l(),d("div",b,[_(a,{graf:e.graf,compact:e.compact,onOnCommentClick:f},null,8,["graf","compact"])]))],2)])}}}),W={class:""},Y={key:0,class:"p-4"},J=["onClick"],K={__name:"ListFeed",props:{grafs:{type:Array,required:!0}},setup(t){const{defaultTransition:o,twitterBorderColor:e}=C(),c=t,r=y(()=>c.grafs.length===0);function f(n){}return(n,s)=>(l(),d("div",W,[r.value?(l(),d("div",Y,[u("p",{class:h(["text-center text-gray-500",m(o)])},"No hay publicaciones ðŸ˜¢",2)])):(l(!0),d(I,{key:1},T(c.grafs,a=>(l(),d("div",{key:a==null?void 0:a.id,class:h(["pb-4 border-b hover:bg-gray-100 cursor-pointer dark:hover:bg-dim-300",[m(o),m(e)]]),onClick:i=>void 0},[_(P,{graf:a,compact:""},null,8,["graf"])],10,J))),128))]))}},G=async()=>await fetch("/portafolio/data.json").then(t=>t.json()),Q=t=>({id:t.id,text:t.text,userId:t.userId,isActive:t.isActive,isLock:t.isLock,createdAt:t.createdAt,updatedAt:t.updatedAt}),U=t=>({id:t.id,text:t.text,userId:t.userId,isActive:t.isActive,createdAt:t.createdAt}),w="grafs",X=()=>({GetAllGrafs:async e=>{const{limit:c=10,page:r=0}=e;return await G().then(async n=>await n[w].filter(s=>s.isLock===!1).filter(s=>s.isActive===!0).sort(function(s,a){return s.createdAt<a.createdAt?1:s.createdAt>a.createdAt?-1:0}).splice(r,c).map(s=>U(s)))},GetOneGraf:async e=>await G().then(async r=>{const f=await r[w].find(n=>n.id===e);return Q(f)})}),st={__name:"Home",setup(t){const{GetAllGrafs:o}=X(),e=p(),c=p(!1),r=p(!0),f=p(10),n=p(0),s=p([]),a=async()=>{r.value=!0;try{const i=await o({limit:f.value,page:n.value});s.value=i}catch(i){c.value=!0,e.value=i}finally{r.value=!1}};return j(()=>a()),(i,x)=>(l(),E(O,{class:""},{default:A(()=>[_(K,{grafs:s.value},null,8,["grafs"])]),_:1}))}};export{st as default};
