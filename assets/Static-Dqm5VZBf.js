import{r as c,w as A,o as T,a as p,c as v,b as x,i as f,t as g,p as h,u as S,q as G}from"./index-Bom_8Ya-.js";import{_ as k}from"./Post-B9ufwQSL.js";import{p as P,H as u}from"./paginator-BvNNbeRL.js";import"./index-CfBlVH4R.js";const w=t=>({id:t.id,author:t.author,date:t.date,dateGMT:t.dateGMT,content:t.content,title:t.title,excerpt:t.excerpt,status:t.status,commentStatus:t.commentStatus,pingStatus:t.pingStatus,password:t.password,name:t.name,toPing:t.toPing,pinged:t.pinged,modified:t.modified,modifiedGMT:t.modifiedGMT,contentFiltered:t.contentFiltered,parent:t.parent,guid:t.guid,order:t.order,type:t.type,mimeType:t.mimeType,commentsCount:t.commentsCount,createdAt:t.createdAt,updatedAt:t.updatedAt}),_=t=>({id:t.id,title:t.title,excerpt:t.excerpt,type:t.type,mimeType:t.mimeType,createdAt:t.createdAt}),l="posts",M=()=>({GetAllPosts:async s=>{const r=P(s.limit,s.page);return await await u().then(async o=>await o[l].filter(e=>e.status==="public").sort(function(e,a){return e.order<a.order?1:e.order>a.order?-1:0}).splice(r.page,r.limit).map(e=>_(e)))},GetOnePost:async s=>{const r=await u().then(async n=>await n[l].find(o=>o.id===s));return w(r)},SearchAllPosts:async(s,r)=>{const n=P(r.limit,r.page);return await await u().then(async e=>await e[l].filter(a=>a.status==="public").filter(a=>a.type===s).sort(function(a,i){return a.createdAt<i.createdAt?1:a.createdAt>i.createdAt?-1:0}).splice(n.page,n.limit).map(a=>_(a)))},SearchOnePost:async s=>{const r=await u().then(async n=>await n[l].find(o=>o.type===s));return r?w(r):null}}),O={key:0,class:"text-gray-900 dark:text-gray-100 p-4"},E={key:1,class:"text-gray-900 dark:text-gray-100 p-4"},D={__name:"Static",setup(t){const{SearchOnePost:d}=M(),m=S(),y=G(),s=c("TITLE"),r=c(),n=c(!1),o=c(!0),e=c({}),a=async()=>{o.value=!0;try{const i=await d(m.params.id);i===null&&await y.push({name:"NotFound"}),e.value=i,s.value=i.title}catch(i){n.value=!0,r.value=i}finally{o.value=!1}};return A(()=>m.fullPath,()=>a()),T(()=>a()),(i,C)=>(p(),v(k,{title:s.value},{default:x(()=>[e.value.mimeType?(p(),f("div",O,g(e.value.mimeType),1)):h("",!0),e.value.content?(p(),f("div",E,g(e.value.content),1)):h("",!0)]),_:1},8,["title"]))}};export{D as default};
