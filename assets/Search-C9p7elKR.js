import{r,h,o as x,i as $,a,c as k,b,e as _,f as c,F as w,j as B,n as v,k as g,t as q,d as C,w as A,u as L}from"./index-Bp2Xhef2.js";import{_ as j}from"./Post-Di2P1Rtg.js";import{u as F}from"./index-DYtBGSOW.js";import{u as E,a as M}from"./useGraf-ESKeXTYK.js";import"./paginator-Dks_t7Pf.js";const S={class:""},G=["src"],N={__name:"index",props:{graf:{type:Object,required:!0},compact:{type:Boolean,default:!1},hideActions:{type:Boolean,default:!1}},setup(p){const{twitterBorderColor:s}=F(),{GetAllMediaFiles:o}=E(),e=p,n=r(),i=async()=>{const u=await o(e.graf.id,{limit:1,page:0});n.value=u},l=h(()=>e.compact?"text-base":"text-2xl");return x(()=>i()),(u,t)=>{const m=$("RouterLink");return a(),k(m,{to:e.graf.url},{default:b(()=>[_("div",S,[(a(!0),c(w,null,B(n.value,d=>(a(),c("div",{key:d.id,class:v(["flex my-3 mr-2 border-2 rounded-2xl",g(s)])},[_("img",{src:d.url,class:"w-full rounded-2xl aspect-video object-cover"},null,8,G)],2))),128)),_("p",{class:v(["flex-shrink font-medium text-gray-800 w-auto dark:text-gray-100 pe-3",l.value])},q(e.graf.text),3)])]),_:1},8,["to"])}}},R={class:"transition"},z={key:0,class:"p-4"},P=["onClick"],T={__name:"ListFeed",props:{grafs:{type:Array,required:!0}},setup(p){const{defaultTransition:s,twitterBorderColor:o}=F(),e=p,n=h(()=>e.grafs.length===0);function i(l){}return(l,u)=>(a(),c("div",R,[n.value?(a(),c("div",z,[_("p",{class:v(["text-center text-gray-500",g(s)])},"No hay publicaciones ðŸ˜¢",2)])):(a(!0),c(w,{key:1},B(e.grafs,t=>(a(),c("div",{key:t==null?void 0:t.id,class:v(["p-4 border-b hover:bg-gray-100 dark:hover:bg-gray-900 cursor-pointer dark:hover:bg-dim-300",[g(s),g(o)]]),onClick:m=>void 0},[C(N,{graf:t,compact:""},null,8,["graf"])],10,P))),128))]))}},V="Buscar",K={__name:"Search",setup(p){const{SearchAllGrafs:s}=M(),o=L(),e=r(),n=r(!1),i=r(!0),l=r(10),u=r(0),t=r([]),m=o.query.q,d=async()=>{i.value=!0;try{const f=await s(m,{limit:l.value,page:u.value});t.value=f.map(y=>({...y,url:{name:"Project",params:{id:y.id}}}))}catch(f){n.value=!0,e.value=f}finally{i.value=!1}};return A(()=>o.fullPath,()=>d()),x(()=>d()),(f,y)=>(a(),k(j,{title:V},{default:b(()=>[C(T,{grafs:t.value,compact:""},null,8,["grafs"])]),_:1}))}};export{K as default};
